{"ast":null,"code":"var _jsxFileName = \"/home/httpskedar/WebstormProjects/ReactJs/GITHUB/new/formik-react-bootstrap/src/pages/Home-Page/HomePage.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { Formik } from \"formik\";\nimport * as Yup from \"yup\";\nimport { Form, Card, Col, Table, Row, Button } from \"react-bootstrap\";\nimport \"./home-page.css\";\nimport { FaEdit } from \"react-icons/fa\";\nimport { IoMdTrash } from \"react-icons/io\";\nimport axios from \"axios\";\nimport { getAllUser, addUser } from \"../../services/Home-Page/homepage.service\";\nimport swal from \"sweetalert\";\nimport { API_URL } from \"../../config/config\";\n\nconst HomePage = () => {\n  const [state, setState] = useState({\n    userInfoId: \"\",\n    name: \"\",\n    address: \"\",\n    dateOfBirth: \"\",\n    mobileNumber: \"\",\n    userList: []\n  });\n\n  const handleChange = e => {\n    setState({ ...state,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const tableSelectRow = (userInfoId, name, address, dateOfBirth, mobileNumber) => {\n    setState({\n      userInfoId: userInfoId,\n      name: name,\n      address: address,\n      dateOfBirth: dateOfBirth,\n      mobileNumber: mobileNumber\n    });\n  };\n\n  const refreshState = () => {\n    setState({\n      userInfoId: \"\",\n      name: \"\",\n      address: \"\",\n      dateOfBirth: \"\",\n      mobileNumber: \"\"\n    });\n  };\n\n  updateUser = () => {\n    let userData = {\n      userInfoId: state.userInfoId,\n      name: state.name,\n      address: state.address,\n      dateOfBirth: state.dateOfBirth,\n      mobileNumber: state.mobileNumber\n    };\n    axios.put(API_URL + \"users/updateUser\", userData).then(res => {\n      console.log(res.data);\n      refreshState();\n      swal({\n        icon: \"success\",\n        title: \"Updated!\",\n        timer: 2000\n      });\n    });\n  };\n\n  deleteUser = userInfoId => {\n    axios.delete(API_URL + `users/deleteUserById/${userInfoId}`).then(res => {\n      console.log(res.data);\n      swal({\n        icon: \"success\",\n        title: \"Deleted!\",\n        timer: 2000\n      });\n    });\n  };\n\n  const DataTable = () => {\n    return state.userList.map((res, index) => {\n      const {\n        userInfoId,\n        name,\n        address,\n        dateOfBirth,\n        mobileNumber\n      } = res;\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }\n      }, index + 1), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }\n      }, name), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }\n      }, address), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }\n      }, dateOfBirth), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }\n      }, mobileNumber), /*#__PURE__*/React.createElement(\"td\", {\n        style: {\n          padding: 10\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(FaEdit, {\n        size: 20,\n        onClick: i => tableSelectRow(userInfoId, name, address, dateOfBirth, mobileNumber),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 13\n        }\n      })), /*#__PURE__*/React.createElement(\"td\", {\n        style: {\n          padding: 10\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(IoMdTrash, {\n        size: 20,\n        onClick: i => deleteUser(userInfoId),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 13\n        }\n      })));\n    });\n  };\n\n  useEffect(() => {\n    getAllUser().then(res => {\n      console.log(res);\n      const userList = res;\n      setState({ ...state,\n        userList\n      });\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"divPage\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Card.Header, {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 11\n    }\n  }, \"React-Formik-React_Bootstrap-NodeJs-Mysql\"), /*#__PURE__*/React.createElement(Formik, {\n    enableReinitialize: true,\n    initialValues: state,\n    validationSchema: Yup.object().shape({\n      name: Yup.string().min(1, \"Name must be at least 3 characters\").max(100, \"Name max 100 characters\").required(\"Name is required\"),\n      address: Yup.string().min(1, \"Address must be at least 3 characters\").max(100, \"Address max 100 characters\").required(\"Address is required\"),\n      dateOfBirth: Yup.date().required(\"Date Of Birth is required\"),\n      mobileNumber: Yup.number().positive(\"Phone number can't start with a minus\").integer(\"Phone number can't include a decimal point\").required(\"Phone Number is required\")\n    }),\n    onSubmit: values => {\n      let userData = {\n        name: values.name,\n        address: values.address,\n        dateOfBirth: values.dateOfBirth,\n        mobileNumber: values.mobileNumber\n      };\n      addUser(userData).then(res => {\n        swal({\n          icon: \"success\",\n          title: \"Added!\",\n          timer: 2000\n        });\n        refreshState();\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 11\n    }\n  }, props => /*#__PURE__*/React.createElement(Form, {\n    onSubmit: props.handleSubmit,\n    className: \"formPage\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    as: Row,\n    controlId: \"formPlaintextName\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    column: true,\n    sm: \"2\",\n    className: \"formLabel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 19\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(Col, {\n    sm: \"10\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"text\",\n    name: \"name\",\n    placeholder: \"Name\",\n    value: props.values.name,\n    onChange: props.handleChange && handleChange,\n    onBlur: props.handleBlur,\n    isInvalid: props.errors.name && props.touched.name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Form.Control.Feedback, {\n    type: \"invalid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 21\n    }\n  }, props.errors.name))), /*#__PURE__*/React.createElement(Form.Group, {\n    as: Row,\n    controlId: \"formPlaintextAddress\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    column: true,\n    sm: \"2\",\n    className: \"formLabel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 19\n    }\n  }, \"Address\"), /*#__PURE__*/React.createElement(Col, {\n    sm: \"10\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"text\",\n    name: \"address\",\n    placeholder: \"Address\",\n    value: props.values.address,\n    onChange: props.handleChange && handleChange,\n    onBlur: props.handleBlur,\n    isInvalid: props.errors.address && props.touched.address,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Form.Control.Feedback, {\n    type: \"invalid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 21\n    }\n  }, props.errors.address))), /*#__PURE__*/React.createElement(Form.Group, {\n    as: Row,\n    controlId: \"formPlaintextDateOfBirth\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    column: true,\n    sm: \"2\",\n    className: \"formLabel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 19\n    }\n  }, \"Date Of Birth\"), /*#__PURE__*/React.createElement(Col, {\n    sm: \"10\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"date\",\n    name: \"dateOfBirth\",\n    placeholder: \"YYYY-MM-DD\",\n    value: props.values.dateOfBirth,\n    onChange: props.handleChange && handleChange,\n    onBlur: props.handleBlur,\n    isInvalid: props.errors.dateOfBirth && props.touched.dateOfBirth,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Form.Control.Feedback, {\n    type: \"invalid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 21\n    }\n  }, props.errors.dateOfBirth))), /*#__PURE__*/React.createElement(Form.Group, {\n    as: Row,\n    controlId: \"formPlaintextMobileNumber\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    column: true,\n    sm: \"2\",\n    className: \"formLabel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 19\n    }\n  }, \"Mobile Number\"), /*#__PURE__*/React.createElement(Col, {\n    sm: \"10\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"tel\",\n    name: \"mobileNumber\",\n    placeholder: \"Mobile Number\",\n    value: props.values.mobileNumber,\n    onChange: props.handleChange && handleChange,\n    onBlur: props.handleBlur,\n    isInvalid: props.errors.mobileNumber && props.touched.mobileNumber,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Form.Control.Feedback, {\n    type: \"invalid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 21\n    }\n  }, props.errors.mobileNumber))), /*#__PURE__*/React.createElement(Button, {\n    variant: \"primary\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 17\n    }\n  }, \"Add User\"), /*#__PURE__*/React.createElement(Button, {\n    variant: \"primary\",\n    onClick: updateUser,\n    className: \"updateButton\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 17\n    }\n  }, \"Update User\")))), /*#__PURE__*/React.createElement(Card, {\n    className: \"cardForTable\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Card.Header, {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 11\n    }\n  }, \"User Details\"), /*#__PURE__*/React.createElement(Table, {\n    striped: true,\n    bordered: true,\n    hover: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 17\n    }\n  }, \"#\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 17\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 17\n    }\n  }, \"Address\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 17\n    }\n  }, \"Date Of Birth\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 17\n    }\n  }, \"Mobile Number\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 13\n    }\n  }, DataTable()))));\n};\n\nexport default HomePage;","map":{"version":3,"sources":["/home/httpskedar/WebstormProjects/ReactJs/GITHUB/new/formik-react-bootstrap/src/pages/Home-Page/HomePage.js"],"names":["React","useState","useEffect","Formik","Yup","Form","Card","Col","Table","Row","Button","FaEdit","IoMdTrash","axios","getAllUser","addUser","swal","API_URL","HomePage","state","setState","userInfoId","name","address","dateOfBirth","mobileNumber","userList","handleChange","e","target","value","tableSelectRow","refreshState","updateUser","userData","put","then","res","console","log","data","icon","title","timer","deleteUser","delete","DataTable","map","index","padding","i","object","shape","string","min","max","required","date","number","positive","integer","values","props","handleSubmit","handleBlur","errors","touched"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from \"react\";\n\nimport { Formik } from \"formik\";\nimport * as Yup from \"yup\";\nimport { Form, Card, Col, Table, Row, Button } from \"react-bootstrap\";\nimport \"./home-page.css\";\n\nimport { FaEdit } from \"react-icons/fa\";\nimport { IoMdTrash } from \"react-icons/io\";\n\nimport axios from \"axios\";\nimport { getAllUser, addUser } from \"../../services/Home-Page/homepage.service\";\nimport swal from \"sweetalert\";\nimport { API_URL } from \"../../config/config\";\n\nconst HomePage = () => {  \n    const [state, setState] = useState({\n      userInfoId: \"\",\n      name: \"\",\n      address: \"\",\n      dateOfBirth: \"\",\n      mobileNumber: \"\",\n      userList: [],\n    });\n\n\n  const handleChange = (e) => {\n    setState({ ...state, [e.target.name]: e.target.value });\n  };\n\n\n  const tableSelectRow = (userInfoId, name, address, dateOfBirth, mobileNumber) => {\n    setState({\n      userInfoId: userInfoId,\n      name: name,\n      address: address,\n      dateOfBirth: dateOfBirth,\n      mobileNumber: mobileNumber,\n    });\n  }\n\n  const refreshState = () => {\n    setState({\n    userInfoId: \"\",\n      name: \"\",\n      address: \"\",\n      dateOfBirth: \"\",\n      mobileNumber: \"\",\n    });\n  }\n\n  updateUser = () => {\n    let userData = {\n      userInfoId: state.userInfoId,\n      name: state.name,\n      address: state.address,\n      dateOfBirth: state.dateOfBirth,\n      mobileNumber: state.mobileNumber,\n    };\n    axios.put(API_URL + \"users/updateUser\", userData).then((res) => {\n      console.log(res.data);\n      refreshState();\n      swal({ icon: \"success\", title: \"Updated!\", timer: 2000 });\n    });\n  };\n\n  deleteUser = (userInfoId) => {\n    axios.delete(API_URL + `users/deleteUserById/${userInfoId}`).then((res) => {\n      console.log(res.data);\n      swal({ icon: \"success\", title: \"Deleted!\", timer: 2000 });\n    });\n  }\n\n  const DataTable = () => {\n    return state.userList.map((res, index) => {\n      const { userInfoId, name, address, dateOfBirth, mobileNumber } = res;\n      return (\n        <tr key={index}>\n          <td>{index + 1}</td>\n          <td>{name}</td>\n          <td>{address}</td>\n          <td>{dateOfBirth}</td>\n          <td>{mobileNumber}</td>\n          <td style={{ padding: 10 }}>\n            <FaEdit\n              size={20}\n              onClick={(i) =>\n                tableSelectRow(\n                  userInfoId,\n                  name,\n                  address,\n                  dateOfBirth,\n                  mobileNumber\n                )\n              }\n            ></FaEdit>\n          </td>\n          <td style={{ padding: 10 }}>\n            <IoMdTrash\n              size={20}\n              onClick={(i) => deleteUser(userInfoId)}\n            ></IoMdTrash>\n          </td>\n        </tr>\n      );\n    });\n  }\n\n  useEffect(() => {\n    getAllUser().then((res) => {\n        console.log(res);\n        const userList = res;\n        setState({ ...state, userList });\n      });\n  }, []);\n\n    return (\n      <div className=\"divPage\">\n        <Card>\n          <Card.Header className=\"text-center\">\n            React-Formik-React_Bootstrap-NodeJs-Mysql\n          </Card.Header>\n          <Formik\n            enableReinitialize={true}\n            initialValues={state}\n            validationSchema={Yup.object().shape({\n              name: Yup.string()\n                .min(1, \"Name must be at least 3 characters\")\n                .max(100, \"Name max 100 characters\")\n                .required(\"Name is required\"),\n              address: Yup.string()\n                .min(1, \"Address must be at least 3 characters\")\n                .max(100, \"Address max 100 characters\")\n                .required(\"Address is required\"),\n              dateOfBirth: Yup.date().required(\"Date Of Birth is required\"),\n              mobileNumber: Yup.number()\n                .positive(\"Phone number can't start with a minus\")\n                .integer(\"Phone number can't include a decimal point\")\n                .required(\"Phone Number is required\"),\n            })}\n            onSubmit={(values) => {\n              let userData = {\n                name: values.name,\n                address: values.address,\n                dateOfBirth: values.dateOfBirth,\n                mobileNumber: values.mobileNumber,\n              };\n\n              addUser(userData).then((res) => {\n                swal({ icon: \"success\", title: \"Added!\", timer: 2000 });\n                refreshState();\n              });\n            }}\n          >\n            {(props) => (\n              <Form onSubmit={props.handleSubmit} className=\"formPage\">\n                <Form.Group as={Row} controlId=\"formPlaintextName\">\n                  <Form.Label column sm=\"2\" className=\"formLabel\">\n                    Name\n                  </Form.Label>\n                  <Col sm=\"10\">\n                    <Form.Control\n                      type=\"text\"\n                      name=\"name\"\n                      placeholder=\"Name\"\n                      value={props.values.name}\n                      onChange={props.handleChange && handleChange}\n                      onBlur={props.handleBlur}\n                      isInvalid={props.errors.name && props.touched.name}\n                    />\n\n                    <Form.Control.Feedback type=\"invalid\">\n                      {props.errors.name}\n                    </Form.Control.Feedback>\n                  </Col>\n                </Form.Group>\n\n                <Form.Group as={Row} controlId=\"formPlaintextAddress\">\n                  <Form.Label column sm=\"2\" className=\"formLabel\">\n                    Address\n                  </Form.Label>\n                  <Col sm=\"10\">\n                    <Form.Control\n                      type=\"text\"\n                      name=\"address\"\n                      placeholder=\"Address\"\n                      value={props.values.address}\n                      onChange={props.handleChange && handleChange}\n                      onBlur={props.handleBlur}\n                      isInvalid={props.errors.address && props.touched.address}\n                    />\n\n                    <Form.Control.Feedback type=\"invalid\">\n                      {props.errors.address}\n                    </Form.Control.Feedback>\n                  </Col>\n                </Form.Group>\n\n                <Form.Group as={Row} controlId=\"formPlaintextDateOfBirth\">\n                  <Form.Label column sm=\"2\" className=\"formLabel\">\n                    Date Of Birth\n                  </Form.Label>\n                  <Col sm=\"10\">\n                    <Form.Control\n                      type=\"date\"\n                      name=\"dateOfBirth\"\n                      placeholder=\"YYYY-MM-DD\"\n                      value={props.values.dateOfBirth}\n                      onChange={props.handleChange && handleChange}\n                      onBlur={props.handleBlur}\n                      isInvalid={\n                        props.errors.dateOfBirth && props.touched.dateOfBirth\n                      }\n                    />\n\n                    <Form.Control.Feedback type=\"invalid\">\n                      {props.errors.dateOfBirth}\n                    </Form.Control.Feedback>\n                  </Col>\n                </Form.Group>\n\n                <Form.Group as={Row} controlId=\"formPlaintextMobileNumber\">\n                  <Form.Label column sm=\"2\" className=\"formLabel\">\n                    Mobile Number\n                  </Form.Label>\n                  <Col sm=\"10\">\n                    <Form.Control\n                      type=\"tel\"\n                      name=\"mobileNumber\"\n                      placeholder=\"Mobile Number\"\n                      value={props.values.mobileNumber}\n                      onChange={props.handleChange && handleChange}\n                      onBlur={props.handleBlur}\n                      isInvalid={\n                        props.errors.mobileNumber && props.touched.mobileNumber\n                      }\n                    />\n\n                    <Form.Control.Feedback type=\"invalid\">\n                      {props.errors.mobileNumber}\n                    </Form.Control.Feedback>\n                  </Col>\n                </Form.Group>\n                <Button variant=\"primary\" type=\"submit\">\n                  Add User\n                </Button>\n                <Button\n                  variant=\"primary\"\n                  onClick={updateUser}\n                  className=\"updateButton\"\n                >\n                  Update User\n                </Button>\n              </Form>\n            )}\n          </Formik>\n        </Card>\n\n        <Card className=\"cardForTable\">\n          <Card.Header className=\"text-center\">User Details</Card.Header>\n          <Table striped bordered hover>\n            <thead>\n              <tr>\n                <th>#</th>\n                <th>Name</th>\n                <th>Address</th>\n                <th>Date Of Birth</th>\n                <th>Mobile Number</th>\n              </tr>\n            </thead>\n            <tbody>{DataTable()}</tbody>\n          </Table>\n        </Card>\n      </div>\n    );\n  }\n\n\nexport default HomePage;\n"]},"metadata":{},"sourceType":"module"}